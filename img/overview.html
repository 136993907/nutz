<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
<title>图像基本处理</title><link href="../zdoc.css" rel="stylesheet" type="text/css"/>
</head>
<body><a name="top"></a>
<div class="zdoc_header">图像基本处理</div>
<div class="zdoc_author"><em>By:</em><b>wendal(wendal1985@gmail.com), pangwu86</b><a href="mailto:pangwu86@gmail.com">&lt;pangwu86@gmail.com&gt;</a></div>
<div class="zdoc_body">
<ul class="zdoc_index_table">
<li>
<div><span class="num">1</span><a href="#为什么有这个package">为什么有这个package</a></div>
</li>
<li>
<div><span class="num">2</span><a href="#图像读取">图像读取</a></div>
</li>
<li>
<div><span class="num">3</span><a href="#图像旋转">图像旋转</a></div>
</li>
<li>
<div><span class="num">4</span><a href="#图像翻转">图像翻转</a></div>
</li>
<li>
<div><span class="num">5</span><a href="#图像缩放">图像缩放</a></div>
</li>
<li>
<div><span class="num">6</span><a href="#图像扭曲">图像扭曲</a></div>
</li>
<li>
<div><span class="num">7</span><a href="#输出文件">输出文件</a></div>
</li>
</ul>
<div class="hr"><b></b></div>
<h1><a name="为什么有这个package"></a>为什么有这个package</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>这个package一直有,老久了,只是一直都是我们内部自己用,没有直接写出来. </p>
<p>直接原文拷贝啦,从http,哈哈.</p>
<div class="hr"><b></b></div>
<h1><a name="图像读取"></a>图像读取</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>你会发现,Images类只有一个read方法,参数类型是Object</p>
<pre><span class="zdoc_code_cmt">// 可以是URL对象
</span>Images.read(new Url("https:<span class="zdoc_code_cmt">//www.baidu.com/img/bdlogo.png"));
</span><span class="zdoc_code_cmt">// 可以是路径
</span>Images.read("/dev/shm/shiro_login.png");
<span class="zdoc_code_cmt">// 可以是File对象
</span>Images.read(new File("/dev/shm/shiro_login.png"));
<span class="zdoc_code_cmt">// 可以是InputStream
</span>Images.read(in);
</pre>
<div class="hr"><b></b></div>
<h1><a name="图像旋转"></a>图像旋转</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>旋转90度</p>
<pre>img = Images.rotate(img, 90);
</pre>
<div class="hr"><b></b></div>
<h1><a name="图像翻转"></a>图像翻转</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>水平翻转</p>
<pre>img = Images.flipHorizontal(img);
</pre>
<p>垂直翻转</p>
<pre>img = Images.flipVertical(img);
</pre>
<div class="hr"><b></b></div>
<h1><a name="图像缩放"></a>图像缩放</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>缩放到指定长宽,等比缩放</p>
<pre>img = Images.zoomScale(img, 160, 180, Color.WHITE);
</pre>
<p>裁剪缩放</p>
<pre>Images.clipScale("/dev/shm/abc.jpg", "/dev/shm/abc_out.jpg",  1920, 1080);
</pre>
<div class="hr"><b></b></div>
<h1><a name="图像扭曲"></a>图像扭曲</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>可以手动设定扭曲级别，数值越大扭曲程度越高，同时还需设定背景色，用来填充扭曲后漏出来的部分。</p>
<pre>img = Images.twist(img, 1, "<span class="zdoc_code_cmt">#FFF");
</span></pre>
<p>原图:</p>
<p><img src="twist.jpg"/></p>
<p>扭曲值为1：</p>
<p><img src="twist1.jpg"/></p>
<p>扭曲值为3：</p>
<p><img src="twist3.jpg"/></p>
<p>扭曲值为5：</p>
<p><img src="twist5.jpg"/></p>
<div class="hr"><b></b></div>
<h1><a name="输出文件"></a>输出文件</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>根据文件后缀输出图片</p>
<pre>Images.write(image, new File("/dev/shm/abc.png"));
</pre>
<p>输出jpeg并指定质量</p>
<pre>Images.writeJpeg(image, new File("/dev/shm/abc.jpg"), 0.9f);
</pre>
</div>
<div class="zdoc_footer"><em>By:</em><b>wendal(wendal1985@gmail.com), pangwu86</b><a href="mailto:pangwu86@gmail.com">&lt;pangwu86@gmail.com&gt;</a></div>
</body>
</html>